source('ModelBuilder/helper.R')
runApp('ModelBuilder')
fit = lm(fish_habitat~. , data = data)
step = stepAIC(fit, scope = list(upper = fit, lower = ~1), direction="both", steps = 1000)
summary(step)
class(step)
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(data)
min(data$Year)
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
?sliderInput
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(data)
head(filter(data, Year %in% 1999:2001))
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(data)
plot(data$Year, data$"dummy")
boxplot(data$"dummy")
boxplot(data$"dummy", data$"sunspot.year")
boxplot(data$"dummy", data$Year)
plot(data$Year, data$"dummy")
fit2 = lm(dummy~Year, data = data)
fit2
summary(fit2)
plot(fit2)
library('MannKendall')
library('Kendall')
summary(fit2)
MannKendall(ffit.plot())
MannKendall(fit2
)
MannKendall(1:10)
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(dtaa)
head(data)
hist(data$"road_density")
hist(data$"road_density",breaks = 5)
?image
image(x = row, y = col, z = road_density, data = data)
image(x = data$row, y = data$col, z = data$road_density)
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(data)
plot(col~row, data =data)
filelist = list.files('Data', pattern = '*.csv')
filelist
read.data = function(filename){
temp = read.csv(paste0('Data/',filename)) %>%
gather(Year, Value, -row, -col)
temp$Year = gsub('X','',temp$Year)
colnames(temp)[4] = gsub('.csv', '',filename)
temp
}
data = lapply(filelist, function(x) read.data(x)) %>%
Reduce(function(x,y) full_join(x,y, by = c('row', 'col', 'Year')), .)
head(data)
plot(col~row, data =data)
dim(data)
image(y = data$col, x = data$row,x = data$fish_habitat )
image(y = data$col, x = data$row,z = data$fish_habitat )
library('ggplot2')
ggplot(aes(x = row, y = col, colour = fish_habitat), data = data)
ggplot(aes(x = row, y = col, colour = fish_habitat), data = data) + geom_point()
?fitdistr
fitdistr(data$"fish_habitat", 'normal')
# Alces Correlations to Riparian Health
rm(list = ls())
library('shiny')
library('dplyr')
library('tidyr')
library('corrplot')                     # package corrplot
library('MASS')
library('Kendall')
# Fit Plot FUNCTION
fit.plot = function(predictand, x){
par(mfrow = c(1,2))
# Plot Predicted Model against Observed Values
plot(predictand, x$fitted.values, pch = 19,  # NEED TO FIX
xlab = 'Observed', ylab = 'Predicted',
col = rgb(0,0,0,0.6),
main = '')
abline(0,1, col = 'red', lwd = 2)
# Plot Residuals
plot(x$residuals, pch = 19, ylab = 'Residuals', col = rgb(0,0,0,0.6))
abline(h = 0, lwd = 2, lty = 2, col = 'red')
}
####################
# Read in the Data #
####################
filelist = list.files('Data', pattern = '*.csv')
read.data = function(filename){
temp = read.csv(paste0('Data/',filename)) %>%
gather(Year, Value, -row, -col)
temp$Year = gsub('X','',temp$Year)
colnames(temp)[4] = gsub('.csv', '',filename)
temp
}
# Read in and merge all datasets
# data = lapply(filelist, function(x) read.data(x)) %>%
#   Reduce(function(x,y) full_join(x,y, by = c('row', 'col', 'Year')), .)
# data$Year = as.numeric(data$Year)
# Y = F
#
# data = data %>%
#   filter(Year %in% 1900:1930)
# if (Y){
# data = data %>%
#   gather(Stat, Value,  -row, -col, -Year) %>%
#   group_by(Year, Stat) %>%
#   summarise(Value = mean(Value)) %>%
#   spread(key = Stat, value =Value)
# }
#
#
# X %>%
#   add(1) %>%
#   {if(Y) add(1) else .}
# data = data[sample(nrow(data), 1000), ]
# TEMP DATA
data = read.csv('Data/data.csv')
# ggplot(aes(x = row, y = col, colour = fish_habitat), data = data) + geom_point()
data = read.csv('Data/data.csv')
data = read.csv('Data/data.csv')
head(data)
class(data$Year)
order(unique(data$Year))
head(as.numeric(data$Year))
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(data)
data = data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value)
data
lm(data[,'dummy']~., data = data[,!(colnames(data) %in% c('row', 'col', 'year', 'dummy') )])
lm(data[,'dummy']~., data = data[,!(colnames(data) %in% c('year', 'dummy') )])
head(data)
lm(data[,'dummy']~.)
head(data[,])
head(data[,'dummy'])
data = data.frame(data)
head(data)
lm(data[,'dummy']~., data = data[,!(colnames(data) %in% c('year', 'dummy') )])
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
?selectInput
label
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(data)
x = 'None'
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
if(x == 'Mean'){
summarise(Value = mean(Value)) } %>%
else if(x == 'Median'){
summarise(Value = median(Value))} %>%
else if(x == 'Sum') {
summarise(Value = sum(Value)) } %>%
spread(key = Stat, value =Value)
}
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
if(x == 'Mean'){
summarise(Value = mean(Value)) } %>%
if(x == 'Median'){
summarise(Value = median(Value))} %>%
if(x == 'Sum') {
summarise(Value = sum(Value)) } %>%
spread(key = Stat, value =Value)
}
x = 'Mean'
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
if(x == 'Mean'){
summarise(Value = mean(Value)) } %>%
if(x == 'Median'){
summarise(Value = median(Value))} %>%
if(x == 'Sum') {
summarise(Value = sum(Value)) } %>%
spread(key = Stat, value =Value)
}
x
x == 'Mean'
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
if(x == 'Mean'){
summarise(Value = mean(Value)) } %>%
if(x == 'Median'){
summarise(Value = median(Value))} %>%
if(x == 'Sum') {
summarise(Value = sum(Value)) } %>%
spread(key = Stat, value =Value)
}
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
x
x = 'None'
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
{if(x == 'Mean')   summarise(Value = mean(Value))    else . }%>%
{if(x == 'Median') summarise(Value = median(Value))  else .}%>%
{if(x == 'Sum')    summarise(Value = sum(Value))     else .}%>%
spread(key = Stat, value =Value)
}
x = 'Mean'
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
{if(x == 'Mean')   summarise(Value = mean(Value))    else . }%>%
{if(x == 'Median') summarise(Value = median(Value))  else .}%>%
{if(x == 'Sum')    summarise(Value = sum(Value))     else .}%>%
spread(key = Stat, value =Value)
}
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat) %>%
if(x == 'Mean')   summarise(Value = mean(Value))    else . %>%
if(x == 'Median') summarise(Value = median(Value))  else . %>%
if(x == 'Sum')    summarise(Value = sum(Value))     else . %>%
spread(key = Stat, value =Value)
}
x == 'Mean'
if(x == 'Mean')   summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value)
if(x == 'Mean')   data%>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value)
if (x != 'None'){
data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat)
}
if(x == 'Mean')   data%>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value)
if (x != 'None'){
data = data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat)
}
if(x == 'Mean')   data%>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value)
if (x != 'None'){
data = data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat)
}
if(x == 'Mean')   data %>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value)
if(x == 'Median')  data %>%
summarise(Value = median(Value)) %>%
spread(key = Stat, value =Value)
if(x == 'Sum')     data %>%
summarise(Value = sum(Value)) %>%
spread(key = Stat, value =Value)
}
if (x != 'None'){
data = data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat)
}
if(x == 'Mean')   data %>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value)
if(x == 'Median')  data %>%
summarise(Value = median(Value)) %>%
spread(key = Stat, value =Value)
if(x == 'Sum')     data %>%
summarise(Value = sum(Value)) %>%
spread(key = Stat, value =Value)
warnings()
head(data)
if (x != 'None'){
data = data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat)
}
if(x == 'Mean')   {data %>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value) }
if(x == 'Mean')   {data %>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value) }
data = read.csv('Data/data.csv')
# ggplot(aes(x = row, y = col, colour = fish_habitat), data = data) + geom_point()
data$Year = as.numeric(data$Year)
if (x != 'None'){
data = data %>%
gather(Stat, Value,  -row, -col, -Year) %>%
group_by(Year, Stat)
}
if(x == 'Mean')   {data %>%
summarise(Value = mean(Value)) %>%
spread(key = Stat, value =Value) }
if(x == 'Median')  data %>%
summarise(Value = median(Value)) %>%
spread(key = Stat, value =Value)
if(x == 'Sum')     data %>%
summarise(Value = sum(Value)) %>%
spread(key = Stat, value =Value)
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
head(data)
min(data)
max(data)
max(data[,-c('Year')])
max(data[,-c('Year')])
max(data[,'Year'])
max(data[,-'Year'])
max(data[,-'Year'])
max(data[,!(colnames(LiveData()) %in%
c('row', 'col', 'Year'))])
max(data[,!(colnames(data %in%
c('row', 'col', 'Year'))])
max(data[,!(colnames(data %in%
c('row', 'col', 'Year')))]
)
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
dim(data)[2]
dim(data)
length(data)
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
# Run ALCES ModelBuilder
library('shiny')
source('ModelBuilder/helper.R')
runApp('ModelBuilder')
